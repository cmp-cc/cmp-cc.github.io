<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>I am cmp-cc</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://cmp-cc.github.io/"/>
  <updated>2016-03-30T02:14:54.184Z</updated>
  <id>http://cmp-cc.github.io/</id>
  
  <author>
    <name>cmp-cc</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>新的文章</title>
    <link href="http://cmp-cc.github.io/2016/03/30/Java/%E6%96%B0%E7%9A%84%E6%96%87%E7%AB%A0/"/>
    <id>http://cmp-cc.github.io/2016/03/30/Java/新的文章/</id>
    <published>2016-03-30T02:14:54.000Z</published>
    <updated>2016-03-30T02:14:54.184Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://cmp-cc.github.io/2015/08/14/hello-world/"/>
    <id>http://cmp-cc.github.io/2015/08/14/hello-world/</id>
    <published>2015-08-14T08:53:00.000Z</published>
    <updated>2016-04-06T08:49:38.964Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo deploy&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
      <category term="博客" scheme="http://cmp-cc.github.io/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Blog" scheme="http://cmp-cc.github.io/tags/Blog/"/>
    
      <category term="Hexo" scheme="http://cmp-cc.github.io/tags/Hexo/"/>
    
      <category term="Markdown" scheme="http://cmp-cc.github.io/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>贫血模型和充血模型</title>
    <link href="http://cmp-cc.github.io/2013/12/14/%E8%B4%AB%E8%A1%80%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%85%85%E8%A1%80%E6%A8%A1%E5%9E%8B/"/>
    <id>http://cmp-cc.github.io/2013/12/14/贫血模型和充血模型/</id>
    <published>2013-12-14T08:53:00.000Z</published>
    <updated>2016-04-07T06:24:53.828Z</updated>
    
    <content type="html">&lt;p&gt;大多数情况下，我忍不住赋予Model行为，我并不知道它是否合理，了解一下领域模型中的贫血模型和充血模型，无意中发现还有胀血模型和失血模型。 如下是自己（cmp-cc）的理解：&lt;/p&gt;
&lt;h2 id=&quot;模型-（Model）&quot;&gt;&lt;a href=&quot;#模型-（Model）&quot; class=&quot;headerlink&quot; title=&quot;模型 （Model）&quot;&gt;&lt;/a&gt;模型 （Model）&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;无论是贫血模型还是充血模型，他们都符合POJO （也可以认为JavaBean）。&lt;br&gt;&lt;strong&gt;Model包含属性的&lt;code&gt;get&lt;/code&gt;、&lt;code&gt;set&lt;/code&gt;方法&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;模型的本质充当数据容器（保存状态，传递状态）。&lt;br&gt;&lt;strong&gt;模型是一种特殊的数据结构&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;失血模型&quot;&gt;&lt;a href=&quot;#失血模型&quot; class=&quot;headerlink&quot; title=&quot;失血模型&quot;&gt;&lt;/a&gt;失血模型&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;失血模型就是POJO对象，模型仅仅包含数据的定义和getter/setter方法，业务逻辑和应用逻辑都放到服务层（Service）中。&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;层次表示：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UI(视图层) -&amp;gt; Control(控制层) -&amp;gt; Service（服务层） -&amp;gt; DAO （持久化层） -&amp;gt;domain object （领域对象 Model ）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;领域对象不具备任何行为（仅仅是一个POJO对象），所有的行为都在Service层。&lt;/li&gt;
&lt;li&gt;领域对象的作用。&lt;ul&gt;
&lt;li&gt;充当数据容器。&lt;/li&gt;
&lt;li&gt;对象关系映射（ORM）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;这种模型很容易理解和掌握。&lt;/li&gt;
&lt;li&gt;优点&lt;ul&gt;
&lt;li&gt;层次结构清晰，单项依赖，易于维护。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;缺点&lt;ul&gt;
&lt;li&gt;Service 层挤压严重。（业务逻辑职责） &lt;/li&gt;
&lt;li&gt;部分与数据操作相关的行为，必须通过Service层进行修改。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;贫血模型&quot;&gt;&lt;a href=&quot;#贫血模型&quot; class=&quot;headerlink&quot; title=&quot;贫血模型&quot;&gt;&lt;/a&gt;贫血模型&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;贫血模型中包含了一些业务逻辑，但不包含依赖持久层的业务逻辑。这部分依赖于持久层的业务逻辑将会放到服务层中。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;层次表示：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UI(视图层) -&amp;gt; Control(控制层) -&amp;gt; Service（服务层） -&amp;gt; DAO （持久化层） -&amp;gt;domain object （Model）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;继承失血模型特性&lt;/li&gt;
&lt;li&gt;领域对象具备简单行为，如下特点。&lt;ul&gt;
&lt;li&gt;行为不具备持久化特性。（不与数据库打交道，也就是不依赖于DAO层）&lt;/li&gt;
&lt;li&gt;具备与数据相关的业务行为。（部分Service行为 移至 Model）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;同样与失血模型同样的痛处&lt;ul&gt;
&lt;li&gt;系统越复杂，维护成本越高，Service层（业务逻辑）挤压严重。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;充血模型&quot;&gt;&lt;a href=&quot;#充血模型&quot; class=&quot;headerlink&quot; title=&quot;充血模型&quot;&gt;&lt;/a&gt;充血模型&lt;/h2&gt;&lt;p&gt;**充血模型中包含了所有的业务逻辑，包括依赖于持久层的业务逻辑。所以，使用充血模型的领域层是依赖于持久层。&lt;/p&gt;
&lt;p&gt;层次表示：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UI -&amp;gt; Control -&amp;gt; Service -&amp;gt; domain object &amp;lt;–&amp;gt; DAO&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Service 层被减轻，不和DAO打交道，只包含业务逻辑。&lt;/li&gt;
&lt;li&gt;领域对象 和 DAO 双向依赖。&lt;/li&gt;
&lt;li&gt;优点&lt;ul&gt;
&lt;li&gt;减轻了Service层。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;缺点&lt;ul&gt;
&lt;li&gt;Service 将直接依赖于领域对象。 领域对象同样具备部分业务，可能会造成职责混乱，或者使领域对象不具备业务I行为&lt;/li&gt;
&lt;li&gt;领域对象与DAO双向依赖，部分职责容易混响。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;胀血模型&quot;&gt;&lt;a href=&quot;#胀血模型&quot; class=&quot;headerlink&quot; title=&quot;胀血模型&quot;&gt;&lt;/a&gt;胀血模型&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;胀血模型就是把和业务逻辑不想关的其他应用逻辑（如授权、事务等）都放到领域模型中。我感觉胀血模型反而是另外一种的失血模型，因为服务层消失了，领域层干了服务层的事，到头来还是什么都没变。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;层次表示：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UI -&amp;gt; Control -&amp;gt; domain object &amp;lt;–&amp;gt; DAO&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;没有了服务层，领域对象包含所有业务逻辑，并双向依赖与持久化层。&lt;/li&gt;
&lt;li&gt;优点&lt;ul&gt;
&lt;li&gt;分层极其简单&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;缺点&lt;ul&gt;
&lt;li&gt;领域对象职责过多，挤压严重，极其不稳定，不易维护。&lt;/li&gt;
&lt;li&gt;控制层访问领域对象能够看到不必要的行为。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;失血模型和胀血模型并不被提倡，主要原因：领域模型内聚职责过少，或者过多。&lt;br&gt;关于贫血模型和充血模型的选型，其实跟语言架构有关（Robin提出）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果使用Spring，必须贫血模型。&lt;/li&gt;
&lt;li&gt;如果使用RoR，直接充血模型。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/always_my_fault/article/details/2063612&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/always_my_fault/article/details/2063612&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.oschina.net/question/54100_10400&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.oschina.net/question/54100_10400&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.360doc.com/content/12/0423/03/9318309_205785083.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.360doc.com/content/12/0423/03/9318309_205785083.shtml&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;大多数情况下，我忍不住赋予Model行为，我并不知道它是否合理，了解一下领域模型中的贫血模型和充血模型，无意中发现还有胀血模型和失血模型。 如下是自己（cmp-cc）的理解：&lt;/p&gt;
&lt;h2 id=&quot;模型-（Model）&quot;&gt;&lt;a href=&quot;#模型-（Model）&quot; cla
    
    </summary>
    
      <category term="架构设计" scheme="http://cmp-cc.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="DDD (领域驱动设计)" scheme="http://cmp-cc.github.io/tags/DDD-%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="Java" scheme="http://cmp-cc.github.io/tags/Java/"/>
    
  </entry>
  
</feed>
