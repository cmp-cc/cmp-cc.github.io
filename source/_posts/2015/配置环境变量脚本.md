----
title: 配置环境变量脚本
date: 2015-04-28 21:54:00

categories: 
- 效率
tags:
- 系统与效率

----


**经常要手工配置一些环境变量（Ant、Java、Maven、Ruby等等），特别浪费时间，需要一种目录约定俗成的方式配置环境变量，来增加工作效率**


## Window 环境下自动化配置各种环境变量

### 1、修改注册表的方法，重启永久有效
reg add "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" /v path /d "%path%;C:\"  /f

---

### 2、setx 命令 （永久）
* setx 默认写入的是用户变量，想写入环境变量，加 /M
>
```
setx JAVA_HOME "D:\Program Software\Programming Language\Java\jdk1.8.0"
```

---

### 3、set 命令（非永久，只针对于当前命令行）
同上 (setx命令)

## 自动环境配置脚本 

**参考如下 EnvironmentConfiguration.bat 配置**
```
@ECHO OFF 
IF EXIST %systemroot%\system32\setx.exe ( 

@ECHO 开始配置JAVA环境
@SETX JAVA_HOME "D:\Program Software\Programming Language\Java\jdk1.8.0"
@SETX CLASSPATH ".;%%JAVA_HOME%%\lib"
@SETX PATH "%%PATH%%;%%JAVA_HOME%%\bin"
@ECHO JDK配置完成

) else (

@ECHO ON
@ECHO 未能找到%systemroot%\system32\setx.exe，请下载setx.exe程序 

)
@PAUSE 
```