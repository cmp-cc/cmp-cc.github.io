<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="I am cmp-cc" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="I am cmp-cc">
<meta property="og:url" content="http://cmp-cc.github.io/page/4/index.html">
<meta property="og:site_name" content="I am cmp-cc">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="I am cmp-cc">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> I am cmp-cc </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?0fb6f1a75a76726c10a144a8257465e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">I am cmp-cc</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">一直在打杂，从未被超越。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/08/12/2013/Java项目开发中的简称/" itemprop="url">
                  Java项目开发中的简称
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-08-12T14:13:00+08:00" content="2013-08-12">
              2013-08-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Programming-Language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming Language</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Programming-Language/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/08/12/2013/Java项目开发中的简称/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/08/12/2013/Java项目开发中的简称/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java项目开发中的简称，这些简称尤其应用到Java项目分层上。 传统的MVC，可以能只是三层架构。分为View、Control、Model。 有些简写的分层，在看别人代码的时候，可能一下反应不过来它是干什么的？ 这里仔细总结一下，我觉得非常有用，它使我们的代码结构更加清晰。</p>
<p>大部分的缩写源于： 领域模型驱动（DDD）。</p>
<p>大致如下缩写：</p>
<ul>
<li>POJO (Plain Ordinary Java Object) 简单java对象</li>
<li>DAO (Data Access Object) 数据访问对象</li>
<li>DTO (Data Transfer Object) 数据传输对象</li>
<li>VO (View Object) 值对象</li>
<li>BO (Business Object) 业务对象</li>
<li>PO (Persistant Object) 持久化对象</li>
</ul>
<p>参考了一些文章，加上自己的理解</p>
<p>首先要理解什么是JavaBean 、Model、Entity</p>
<ul>
<li>JavaBean<br><strong>JavaBean是一种规范，也即包含一组set和get方法的Java对象。Model、Entity、POJO、DTO、BO都属于JavaBean，因为他们符合这种规范。</strong><br><strong>JavaBean分为业务Bean和数据Bean。数据Bean其实就Entity(实体对象)，业务Bean 就是（BO 业务对象）</strong></li>
<li>Model<br><strong>Model是MVC概念之一。也就是Model层用于存储实体对象（Entity）。Model通常 等价于Entity 用DAO层持久化对象</strong></li>
<li>Entity<br><strong>Entity 为实体对象。你把它就做POJO、Model、JavaBean，也没人敢说你一定错误。他主要作用为数据（数据库数据）做持久化。 一旦将数据库中的一条数据存储Entity中，你把它叫做PO对象，也是对的。他只是 领域模型驱动中的概念之一</strong></li>
</ul>
<h2 id="简单java对象-POJO"><a href="#简单java对象-POJO" class="headerlink" title="简单java对象 (POJO)"></a>简单java对象 (POJO)</h2><p>普通的Java对象，对于属性一般实现了JavaBean的标准，另外还可以包含一些简单的业务逻辑(方法)。</p>
<p>一个POJO持久化以后就是PO<br>直接用它传递、传递过程中就是DTO<br>直接用来对应表示层就是VO</p>
<h2 id="数据访问对象-DAO"><a href="#数据访问对象-DAO" class="headerlink" title="数据访问对象 (DAO)"></a>数据访问对象 (DAO)</h2><ul>
<li>DAO 数据访问对象，主要用于封装数据库的访问，通过它可以把POJO持久化为PO，用PO组装出来VO、DTO。</li>
<li>我们还会把DAO叫做持久化层。</li>
</ul>
<h2 id="数据传输对象-DTO"><a href="#数据传输对象-DTO" class="headerlink" title="数据传输对象 (DTO)"></a>数据传输对象 (DTO)</h2><p>Data Transfer Object数据传输对象</p>
<ul>
<li>DTO的概念是J2EE提出，主要用于分布式应用，用于服务之间的数据传输。</li>
<li>分布式应用（JSONP、RCP、RMI等 远程方法或过程调用）之间的数据传输对象使用DTO。</li>
<li>单系统中用于展示层与服务层之间的数据传输</li>
</ul>
<h2 id="值对象-VO"><a href="#值对象-VO" class="headerlink" title="值对象 (VO)"></a>值对象 (VO)</h2><p>ViewObject表现层对象 （展示层）</p>
<ul>
<li>主要对应界面显示的数据值对象。它包含了界面（Web、Mobile、PC）所请求的数据信息。</li>
<li>VO的数据值可以是一个或多个Model的子集或交集，主要目的构成响应（Response）所要展示的内容信息。</li>
<li>VO值对象会转换为JSON、XML、HTML等格式返回给请求者。</li>
</ul>
<h2 id="业务对象-BO"><a href="#业务对象-BO" class="headerlink" title="业务对象 (BO)"></a>业务对象 (BO)</h2><p>business object业务对象</p>
<ul>
<li>主要作用是把业务逻辑封装为一个对象。这个对象可以包括一个或多个其它的对象。<br>eg:<br>比如一个简历，有教育经历、工作经历、社会关系等等。<br>我们可以把教育经历对应一个PO，工作经历对应一个PO，社会关系对应一个PO。<br>建立一个对应简历的BO对象处理简历，每个BO包含这些PO。<br>这样处理业务逻辑时，我们就可以针对BO去处理。</li>
</ul>
<h2 id="持久化对象-PO"><a href="#持久化对象-PO" class="headerlink" title="持久化对象 (PO)"></a>持久化对象 (PO)</h2><ul>
<li>最形象的理解就是一个PO就是数据库中的一条记录。 （好处是可以把一条记录作为一个对象处理，可以方便的转为其它对象。）</li>
</ul>
<img src="/2013/08/12/2013/Java项目开发中的简称/2013-02-12-java.png" alt="整体的结构图" title="整体的结构图">
<p>总结：</p>
<ul>
<li>领域模型可以使得责任更加明确。</li>
<li>有时候避免过度设计<br>不要陷入过度设计，大可不必为了设计而设计一定要在代码中区分各个对象,一句话技术是为应用服务的。</li>
</ul>
<p>参考</p>
<p><a href="http://www.blogjava.net/vip01/archive/2007/01/08/92430.html" target="_blank" rel="external">http://www.blogjava.net/vip01/archive/2007/01/08/92430.html</a><br><a href="http://b-l-east.iteye.com/blog/1142800" target="_blank" rel="external">http://b-l-east.iteye.com/blog/1142800</a><br><a href="http://www.blogjava.net/johnnylzb/archive/2010/05/27/321968.html" target="_blank" rel="external">http://www.blogjava.net/johnnylzb/archive/2010/05/27/321968.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/07/12/Spring 实例教程/" itemprop="url">
                  Spring 实例教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-07-12T13:53:00+08:00" content="2013-07-12">
              2013-07-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index">
                    <span itemprop="name">JavaWeb</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JavaWeb/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/07/12/Spring 实例教程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/07/12/Spring 实例教程/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="构建Spring-环境"><a href="#构建Spring-环境" class="headerlink" title="构建Spring 环境"></a>构建Spring 环境</h2><ul>
<li>引入依赖<ul>
<li>下载Spring，引入dist目录下所有Jar，附加commons-logging.jar 。</li>
<li>或者，使用Maven构建项目,如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  &lt;dependencies&gt;</span><br><span class="line">  &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>spring-context 会将Spring 其他相关依赖引入</p>
<ul>
<li>创建beans.xml ,并引入相关的Shema<br><strong>不限定名称，也可以为:ApplicationContext.xml</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">  xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">         http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span><br><span class="line">         http://www.springframework.org/schema/context</span><br><span class="line">         http://www.springframework.org/schema/context/spring-context-3.0.xsd</span><br><span class="line">         http://www.springframework.org/schema/aop</span><br><span class="line">         http://www.springframework.org/schema/aop/spring-aop-3.0.xsd</span><br><span class="line">         http://www.springframework.org/schema/tx </span><br><span class="line">         http://www.springframework.org/schema/tx/spring-tx-3.0.xsd&quot;&gt;</span><br><span class="line">&lt;/beas&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>一般情况下，Shema去官方文档里找（但是，如果你使用STS工具，可以直接创建Spring 配置文件。），如上是一个全貌，对于新的版本可能过时了。<br>如果你只使用Spring Bean 容器，你可能只需要引入<code>spring-beans-3.0.xsd</code></p>
</blockquote>
<ul>
<li><p>演示配置Bean 对象</p>
<ul>
<li><p>创建相关对象(如下一个Helloworl对象)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.model;</span><br><span class="line">public class HelloWorld &#123;</span><br><span class="line">    public String hello()&#123;</span><br><span class="line">    return &quot;HelloWorld !!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>beans.xml 配置Bean</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;hellWorld&quot; class=&quot;org.freecode.spring.model.HelloWorld&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如上Bean 对象，实际等同于<code>HelloWorld hellWorld = new HelloWorld()</code><br>只是创建于Spring Bean容器中，也就是说HelloWorld对象交给Spring进行管理。</p>
</blockquote>
</li>
<li><p>测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.model;</span><br><span class="line"></span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.springframework.beans.factory.BeanFactory;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class HelloWorldTest &#123;</span><br><span class="line"></span><br><span class="line">    //1、创建Spring Bean 工厂 (Bean 容器)</span><br><span class="line">    private BeanFactory factory = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</span><br><span class="line">    @Test</span><br><span class="line">    public void testHello() &#123;</span><br><span class="line">   </span><br><span class="line">      //2、通过Bean 工厂 获取相应的类对象</span><br><span class="line">      //getBean() 方法可以接受bean的id 或这对象class。 (都可以获取HelloWorld 对象)</span><br><span class="line">      HelloWorld helloWorld = factory.getBean(HelloWorld.class);</span><br><span class="line">      System.out.println(helloWorld.hello());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="ICO"><a href="#ICO" class="headerlink" title="ICO"></a>ICO</h2><p>ICO【依赖注入、控制反转】，使用ICO有两个步骤。</p>
<ul>
<li>1、<code>beans.xml</code>配置相关依赖注入对象（只有交给Spring管理的对象才能进行依赖注入，如上环境测试中的Bean。）</li>
<li>2、对依赖的类完成注入（我们有如下多种注入方式）<ul>
<li>2.1、<code>setter</code> 方法注入。通过<code>property</code>元素注入（每一个依赖注入对象必须创建<code>getter</code>和<code>setter</code>方法）</li>
<li>2.2、构造方法注入。通过<code>constructor-arg</code>元素注入</li>
<li>2.3、自动注入 （自动装配）。通过<code>autowire</code> 属性完成注入</li>
</ul>
</li>
</ul>
<h3 id="依赖注入实例"><a href="#依赖注入实例" class="headerlink" title="依赖注入实例"></a>依赖注入实例</h3><p><strong>在一个Web 项目中Service 层一般会依赖于DAO层对象，我们使用ICO完成，来演示这个实例</strong></p>
<h4 id="通过property实现注入（通过setter方法）"><a href="#通过property实现注入（通过setter方法）" class="headerlink" title="通过property实现注入（通过setter方法）"></a>通过<code>property</code>实现注入（通过setter方法）</h4><ul>
<li><p>Model</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.model;</span><br><span class="line"></span><br><span class="line">public class User &#123;</span><br><span class="line">  private String id;</span><br><span class="line">  private String name;</span><br><span class="line">  private String age;</span><br><span class="line">  public String getId() &#123;</span><br><span class="line">    return id;</span><br><span class="line">  &#125;</span><br><span class="line">  public void setId(String id) &#123;</span><br><span class="line">    this.id = id;</span><br><span class="line">  &#125;</span><br><span class="line">  public String getName() &#123;</span><br><span class="line">    return name;</span><br><span class="line">  &#125;</span><br><span class="line">  public void setName(String name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  public String getAge() &#123;</span><br><span class="line">    return age;</span><br><span class="line">  &#125;</span><br><span class="line">  public void setAge(String age) &#123;</span><br><span class="line">    this.age = age;</span><br><span class="line">  &#125;</span><br><span class="line">  @Override</span><br><span class="line">  public String toString() &#123;</span><br><span class="line">    return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>DAO</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.dao;</span><br><span class="line"></span><br><span class="line">import org.freecode.spring.model.User;</span><br><span class="line"></span><br><span class="line">public interface IUserDao &#123;</span><br><span class="line">  // 由于只是一个演示IOC,只有一个演示方法</span><br><span class="line">  public void addUser(User user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>DAO 接口实现类</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.dao;</span><br><span class="line">import org.freecode.spring.model.User;</span><br><span class="line">public class UserDao implements IUserDao &#123;</span><br><span class="line">    public void addUser(User user) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Service<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.service;</span><br><span class="line">import org.freecode.spring.model.User;</span><br><span class="line">public interface IUserService &#123;</span><br><span class="line">    public void addUser(User user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>Service 接口实现类，注意：1、我们依赖的为DAO接口。2、并创建依赖类的<code>getter</code>和<code>setter</code>方法</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.service;</span><br><span class="line">import org.freecode.spring.dao.IUserDao;</span><br><span class="line">import org.freecode.spring.model.User;</span><br><span class="line">public class UserService implements IUserService&#123;</span><br><span class="line">    private IUserDao userDao;</span><br><span class="line">    </span><br><span class="line">    public IUserDao getUserDao() &#123;</span><br><span class="line">        return userDao;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void setUserDao(IUserDao userDao) &#123;</span><br><span class="line">        this.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">    public void addUser(User user) &#123;</span><br><span class="line">        userDao.addUser(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>配置bean.xml 文件，通过<code>property</code>属性注入相关依赖。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;userDao&quot; class=&quot;org.freecode.spring.dao.UserDao&quot;&gt;&lt;/bean&gt;</span><br><span class="line">     </span><br><span class="line">     &lt;bean id=&quot;userService&quot; class=&quot;org.freecode.spring.service.UserService&quot;&gt;</span><br><span class="line">         &lt;!-- 这里会将UserDao注入到userService中。(这就是所谓的依赖注入) --&gt;</span><br><span class="line">         &lt;!-- 实际是通过userService中setter(IUserDao userDao)方法完成注入。(知道为什么写getter、setter方法了把) --&gt;</span><br><span class="line">         &lt;!-- name属性为要注入的set后缀名称(setUserDao),ref属性为要注入的bean的 id --&gt;</span><br><span class="line">         &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;&gt;&lt;/property&gt;</span><br><span class="line">     &lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试类（测试IOC）<br><strong>测试通过Spring 为UserService 注入 UserDAO是否成功</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.model;</span><br><span class="line">import java.util.UUID;</span><br><span class="line">import org.freecode.spring.service.IUserService;</span><br><span class="line">import org.freecode.spring.service.UserService;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.springframework.beans.factory.BeanFactory;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line">public class SpringTest &#123;</span><br><span class="line">    private BeanFactory factory = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</span><br><span class="line">    </span><br><span class="line">    @Test</span><br><span class="line">    public void testIOC()&#123;</span><br><span class="line">        IUserService userService = factory.getBean(&quot;userService&quot;,UserService.class);</span><br><span class="line">        User user = new User();</span><br><span class="line">        user.setId(UUID.randomUUID().toString());</span><br><span class="line">        user.setName(&quot;天王盖地虎&quot;);</span><br><span class="line">        user.setAge(&quot;21&quot;);</span><br><span class="line">        userService.addUser(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>控制台打印如下：表示注入成功了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User [id=00621890-01cf-4573-8610-7d737936459c, name=天王盖地虎, age=21]</span><br></pre></td></tr></table></figure></p>
<h4 id="通过构造函数"><a href="#通过构造函数" class="headerlink" title="通过构造函数"></a>通过构造函数</h4><p><strong>如下，将该改为使用构造函数完成如上注入。</strong></p>
<ul>
<li><p>修改 UserService  (不需要<code>getter</code>、<code>setter</code>方法了，需要一个构造函数)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    private IUserDao userDao;</span><br><span class="line">    </span><br><span class="line">    public UserService(IUserDao userDao) &#123;</span><br><span class="line">        super();</span><br><span class="line">        this.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">/* //通过property 完成注入,实际是通过setter方法注入</span><br><span class="line">   public void setUserDao(IUserDao userDao) &#123;</span><br><span class="line">        this.userDao = userDao;</span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">   public IUserDao getUserDao() &#123;</span><br><span class="line">        return userDao;</span><br><span class="line">    &#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改beans.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 如下使用使用构造方法完成注入，不常用，一般情况还是使用setter实现注入 --&gt;</span><br><span class="line">     &lt;bean id=&quot;userService&quot; class=&quot;org.freecode.spring.service.UserService&quot;&gt;</span><br><span class="line">         &lt;constructor-arg ref=&quot;userDao&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">     &lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行测试方法<code>testIOC</code>，验证结果</p>
</li>
</ul>
<h4 id="自动装配-（自动注入）"><a href="#自动装配-（自动注入）" class="headerlink" title="自动装配 （自动注入）"></a>自动装配 （自动注入）</h4><ul>
<li><p>需要实现<code>setter</code>方法、而不是构造函数。（也就是说自动注入使用setter方法后名称来完成注入）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">略</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改beans.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// byName 根据Class中的setter属性名称查找beans.xml中id名称，完成注入</span><br><span class="line">&lt;bean id=&quot;userService&quot; class=&quot;org.freecode.spring.service.UserService&quot; autowire=&quot;byName&quot;&gt;</span><br><span class="line"> &lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行测试方法</p>
</li>
<li><p><code>autowire</code>属性值</p>
<ul>
<li><code>default</code><br><strong>由上级标签<beans>的<code>default-autowire</code>属性决定，bean元素默认值</beans></strong></li>
<li>byName<br><strong>通过属性的名字的方式查找JavaBean依赖的对象并为其注入</strong><blockquote>
<p>Spring IoC容器会在配置文件中查找对应的<code>id/name</code>属性,然后使用Setter方法将其注入</p>
</blockquote>
</li>
<li>byType （一般不使用）<br><strong>通过属性的类型查找JavaBean依赖的对象并为其注入。</strong><blockquote>
<p>注意： 有个两个要注入的对象，实现了同一个接口。这时，根据实现接口注入两个不同对象，就会报错，Spring不知道怎么注入二个多态对象。</p>
</blockquote>
</li>
<li>constructor<br><strong>通byType一样，也是通过类型查找依赖对象。与byType的区别在于它不是使用Seter方法注入，而是使用构造子注入</strong></li>
<li>no<br><strong>不启用自动装配，beans元素默认值</strong></li>
</ul>
</li>
</ul>
<h4 id="基本总结"><a href="#基本总结" class="headerlink" title="基本总结"></a>基本总结</h4><ul>
<li>1、开发中不建议使用<code>autowire</code>属性完成自动注入。<br><strong>原因：虽然他可以减少配置，但是beans文件无法直观了解类的整体面貌，所以不建议使用<code>autowire</code></strong></li>
<li>2、常规开发中一般使用<code>property</code>注入，而不是构造方法注入。</li>
</ul>
<h3 id="依赖注入属性实例"><a href="#依赖注入属性实例" class="headerlink" title="依赖注入属性实例"></a>依赖注入属性实例</h3><p><strong>上一个实例，通过<code>ref</code> 引用一个类，将其注入，如果是具体的值呢？   使用<code>value</code>属性，完成具体值注入</strong></p>
<ul>
<li><p>注入一个默认的 User Model 属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;ser&quot; class=&quot;org.freecode.spring.model.User&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;id&quot; value=&quot;1&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;property name=&quot;name&quot; value=&quot;生命宛如，静静相拥的河&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;property name=&quot;age&quot; value=&quot;21&quot;&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testUser()&#123;</span><br><span class="line">    User user = factory.getBean(&quot;user&quot;,User.class);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>ok，<code>User [id=1, name=生命宛如，静静相拥的河, age=21]</code></p>
</blockquote>
<ul>
<li>其他<ul>
<li>可以注入一个List对象、Set对象类，过于简单，就略了。</li>
</ul>
</li>
</ul>
<h3 id="基于Annotation的注入实例"><a href="#基于Annotation的注入实例" class="headerlink" title="基于Annotation的注入实例"></a>基于Annotation的注入实例</h3><p>上面两个实例都是通过XML实现注入，Spring3.0以后支持注解注入，如下演示基于Annotation注入。</p>
<ul>
<li><p>修改第一个实例XML配置，如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- 开启使用注解配置 --&gt;</span><br><span class="line">    &lt;context:annotation-config /&gt;</span><br><span class="line">    &lt;!-- 告诉Spring 去哪写包找注入Bean --&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;org.freecode.srping&quot; /&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/beans&gt;</span><br><span class="line">&gt; Shema 中引入了`spring-context`</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过<code>@component</code>注解将类交给Spring管理<br>class 类中声明<code>@Compent</code> 等价于在Beans.xml 配置当前Bean对象（<code>&lt;bean id=&quot;userDao&quot; class=&quot;org...UserDao&quot;&gt;</code>）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Component(&quot;userDao&quot;)  </span><br><span class="line">public class UserDao implements IUserDao &#123;</span><br><span class="line">    public void addUser(User user) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>依赖注入<code>UserDao</code>到<code>UserService</code><br><strong>有如下三个注解可以完成依赖注入</strong></p>
<ul>
<li><code>@Autowired</code>，我们很熟悉，由Spring提供，默认<code>通过类型注入</code>。</li>
<li><code>@Resource</code>,由J2EE提供，需要引入<code>javax.annotation.Resource</code>包，默认<code>通过名称注入</code></li>
<li><code>@Inject</code>，JSR330中提供,需要引入<code>Inject</code>jar。（等价于Resource）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.service;</span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line">import org.freecode.spring.dao.IUserDao;</span><br><span class="line">import org.freecode.spring.model.User;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line">@Component(&quot;userService&quot;)</span><br><span class="line">public class UserService implements IUserService&#123;</span><br><span class="line">  </span><br><span class="line">   private IUserDao userDao;</span><br><span class="line">   // 使用Spring 依赖注入,它默认基于类型注入</span><br><span class="line">   @Autowired</span><br><span class="line">   public void setUserDao(IUserDao userDao) &#123;</span><br><span class="line">        this.userDao = userDao;</span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">   public IUserDao getUserDao() &#123;</span><br><span class="line">        return userDao;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void addUser(User user) &#123;</span><br><span class="line">        userDao.addUser(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>执行测试方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private BeanFactory factory = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testIOC()&#123;</span><br><span class="line">    IUserService userService = factory.getBean(&quot;userService&quot;,UserService.class);</span><br><span class="line">    User user = new User();</span><br><span class="line">    user.setId(UUID.randomUUID().toString());</span><br><span class="line">    user.setName(&quot;天王盖地虎&quot;);</span><br><span class="line">    user.setAge(&quot;21&quot;);</span><br><span class="line">    userService.addUser(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>ok, 如此简单的完成了依赖注入</p>
<ul>
<li>使用<code>@Resouce</code> 注解完成注入<br><strong>我们不推荐使用<code>@Autowired</code>,而是使用<code>@Resouce</code></strong><ul>
<li>引入J2EE中的<code>javax.anntation.resource</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li><p>将<code>@Autowired</code> 改为 <code>@Resouce</code> 即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   // 使用J2EE提供的依赖注入完成</span><br><span class="line">@Resource</span><br><span class="line">public void setUserDao(IUserDao userDao) &#123;</span><br><span class="line">     this.userDao = userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>你可以将注入写在<code>setter方法</code>上、属性上和构造方法上。这里只是举了个<code>setter</code>的例子</p>
</blockquote>
</li>
<li>你可以测试了<h4 id="不推荐使用-Component完成所有Bean的创建"><a href="#不推荐使用-Component完成所有Bean的创建" class="headerlink" title="不推荐使用@Component完成所有Bean的创建"></a>不推荐使用<code>@Component</code>完成所有Bean的创建</h4>除了<code>@Component</code>注解以外，还有如下功能一样，名称不同的注入注解。<ul>
<li><code>@Componentt</code> 作用于<code>公共代码层</code>。</li>
<li><code>@Repository</code> 作用于<code>持久化层(DAO)</code></li>
<li><code>@Service</code> 作用于<code>业务层</code></li>
<li><code>@Controller</code> 作用于<code>MVC控制层</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>你可修改上一个实例的<code>@Component</code> 实际相符的注入类型，并完成测试。</p>
</blockquote>
<h3 id="scope-实例周期"><a href="#scope-实例周期" class="headerlink" title="scope 实例周期"></a><code>scope</code> 实例周期</h3><p>使用XML管理Bean 可以在Bean中配置<code>scope</code>属性。<br>或者，使用@Scope注解配置Bean的周期。<br>Bean 实例周期属性<code>scope</code>有四个属性。</p>
<ul>
<li><code>singleton</code><br><strong>单例模式，默认值</strong></li>
<li><code>prototype</code><br><strong>多例模式</strong></li>
<li><code>request</code></li>
<li><code>session</code><blockquote>
<p><code>scope</code>默认为单例默认。当一个对象的状态不会发生改变，使用单例。当实例对象的状态肯能改变，使用多例。<br>例如：DAO层和Service层一般都是单例，而Model 则为多例，Model中的属性状态一直在变化。Action 层则为多例（状态总是改变的）。</p>
</blockquote>
</li>
</ul>
<p><strong>注解scope</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">@Scope(&quot;prototype&quot;)</span><br><span class="line">public class User &#123; </span><br><span class="line">....</span><br></pre></td></tr></table></figure></p>
<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><p>AOP 直意过来为：<code>面向方面编程</code>,更为正确的叫法为：<code>面向切面编程</code></p>
<h3 id="AOP-Annotation-实例"><a href="#AOP-Annotation-实例" class="headerlink" title="AOP Annotation 实例"></a>AOP Annotation 实例</h3><p><strong>这个实例是建立在IOC Annotation 的基础上</strong></p>
<ul>
<li><p>引入AOP依赖包，依赖如下（Spring使用的是第三方的切面库：`Aspect.jar）</p>
<ul>
<li><code>aopalliance.jar</code></li>
<li><code>aspectrt.jar</code></li>
<li><code>aspectjweaver.jar</code></li>
<li>或者使用Maven构建如下(其中<code>aopllicance</code>,<code>spring-context</code> 默认引入依赖)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.dao;</span><br><span class="line"></span><br><span class="line">import org.freecode.spring.model.User;</span><br><span class="line"></span><br><span class="line">public interface IUserDao &#123;</span><br><span class="line">  // 由于只是一个演示IOC,只有一个演示方法</span><br><span class="line">  public void addUser(User user);</span><br><span class="line">&#125;</span><br><span class="line">   &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.7.3&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.7.3&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>beans.xml 引入<code>spring-aop shema</code> (主要目的自动检索或代码补全)</p>
</li>
<li><p>开启注解AOP 自动代理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd</span><br><span class="line">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- 开启使用注解配置 --&gt;</span><br><span class="line">    &lt;context:annotation-config /&gt;</span><br><span class="line">    &lt;!-- 告诉Spring 去哪写包找注入Bean --&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;org.freecode.spring&quot; /&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- AOP.1、引入AOP Schema --&gt;</span><br><span class="line">    &lt;!-- AOP.2、开启AOP自动代理 --&gt;</span><br><span class="line">    &lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个切面类。（代理对象）</p>
<ul>
<li>通过<code>@Aspect</code> 注解，申明为一个切面对象。</li>
<li>声明AOP切点。声明AOP 方法的位置。这里使用<code>@After</code>方法后执行。</li>
<li><p>声明<code>execution表达式</code>，表明当前的方法允许访问范围</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">    1、execution 表达式标示</span><br><span class="line">    2、必须是 public 范围的方法</span><br><span class="line">    3、* 不显示返回类型</span><br><span class="line">    4、作用范围 包名下的所有类，必须add开头</span><br><span class="line">    5、(..) 不限制输入类型</span><br><span class="line">execution(public * org.freecode.spring.dao.*.add*(..))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果有多个<code>execution</code> 表达式使用<code>||</code> 运算符即可。<br><strong>参照如下</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package org.freecode.spring.aspect;</span><br><span class="line">import org.aspectj.lang.annotation.After;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line">/**</span><br><span class="line"> *1、 @Component IOC注解,将当前对象交给Spring管理</span><br><span class="line"> *2、@Aspect 申明这是一个切面类。(也可以理解为代理对象)</span><br><span class="line"> */</span><br><span class="line">@Component(&quot;logAspect&quot;)</span><br><span class="line">@Aspect</span><br><span class="line">public class LogAspect &#123;</span><br><span class="line">    @After(&quot;execution(public * org.freecode.spring.dao.*.add*(..))&quot;)</span><br><span class="line">    public void startLog()&#123;</span><br><span class="line">        Logger.info(&quot;方法调用结束&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public static class Logger&#123;</span><br><span class="line">        </span><br><span class="line">        public static void info(String message)&#123;</span><br><span class="line">            System.out.println(message);</span><br><span class="line">        &#125;</span><br><span class="line">        public static void error(String message)&#123;</span><br><span class="line">            System.err.println(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
</li>
<li><p>执行测试<br><strong>结果如下，很简单吧！！</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User [id=d7ee1ecd-a50a-4c38-9358-52233d70af4e, name=天王盖地虎, age=21]</span><br><span class="line">方法调用结束</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="AOP-切点方法"><a href="#AOP-切点方法" class="headerlink" title="AOP 切点方法"></a>AOP 切点方法</h3><p>实例中，只是使用<code>@After</code>，在方法后执行。</p>
<ul>
<li>AOP 切点<ul>
<li><code>@After</code>  函数调用之前执行。</li>
<li><code>@Before</code> 函数调用之后执行。 </li>
<li><code>@Around</code>  函数调用过程执行。（用法如下）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Around(&quot;execution(public * org.freecode.spring.dao.*.add*(..))&quot;)</span><br><span class="line">public void AroundLog(ProceedingJoinPoint pjp) throws Throwable&#123;</span><br><span class="line">    Logger.info(&quot;方法执行开始&quot;);</span><br><span class="line">    pjp.proceed();</span><br><span class="line">    Logger.info(&quot;方法执行结束&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/06/28/Spring MVC 数据绑定/" itemprop="url">
                  Spring MVC 数据绑定
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-06-28T16:53:00+08:00" content="2013-06-28">
              2013-06-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index">
                    <span itemprop="name">JavaWeb</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JavaWeb/Spring-MVC/" itemprop="url" rel="index">
                    <span itemprop="name">Spring MVC</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/06/28/Spring MVC 数据绑定/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/06/28/Spring MVC 数据绑定/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>数据绑定特性用于将用户输入（请求参数）转换为<code>域模型</code>或<code>同名离散数据</code>，由于数据绑定，HTTP请求参数，它总是<code>字符串</code>类型，可以填充不同类型的对象属性。(Srping 定义很多类型转换)。</p>
<h2 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h2><h3 id="离散参数"><a href="#离散参数" class="headerlink" title="离散参数"></a>离散参数</h3><p><strong>控制器Action 方法接收请求数据为离散数据</strong> </p>
<ul>
<li><p>JSP/HTML</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;user-save&quot; method=&quot;post&quot;&gt;  </span><br><span class="line">    </span><br><span class="line">    &lt;input name=&quot;name&quot; value=&quot;姓名&quot;/&gt;&lt;/div&gt;  </span><br><span class="line">    &lt;input name=&quot;age&quot; value=&quot;20&quot;/&gt;&lt;/div&gt;  </span><br><span class="line">    &lt;input name=&quot;income&quot; value=&quot;100000&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;isMarried&quot; value=&quot;true&quot; checked=&quot;checked&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;isMarried&quot; value=&quot;false&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;interests&quot; value=&quot;Ruby&quot; checked=&quot;checked&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;interests&quot; value=&quot;Python&quot; checked=&quot;checked&quot;/&gt;  </span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;interests&quot; value=&quot;Clojure&quot; checked=&quot;checked&quot;/&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交表单&quot;/&gt; </span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Spring MVC 控制器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value=&quot;/user-save&quot;)</span><br><span class="line">public void saveUserInfo(String name, Integer age, Double income, Boolean isMarried, String[] interests)  </span><br><span class="line">&#123;  </span><br><span class="line">    // 请求参数 Key 与 参数名称一一对应。</span><br><span class="line">    // 名字、年龄、收入、是否结婚、兴趣列表</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="域模型"><a href="#域模型" class="headerlink" title="域模型"></a>域模型</h3><p><strong>将用户输入转换为域模型</strong></p>
<ul>
<li><p>请求参数对象User</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">public class User &#123;  </span><br><span class="line">    private String name;  </span><br><span class="line">    private Integer age;  </span><br><span class="line">    private Boolean isMarried;  </span><br><span class="line">    private Double income;  </span><br><span class="line">    private String[] interests;  </span><br><span class="line">      </span><br><span class="line">    public String getName() &#123;  </span><br><span class="line">        return name;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void setName(String name) &#123;  </span><br><span class="line">        this.name = name;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public Integer getAge() &#123;  </span><br><span class="line">        return age;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void setAge(Integer age) &#123;  </span><br><span class="line">        this.age = age;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public Boolean getIsMarried() &#123;  </span><br><span class="line">        return isMarried;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void setIsMarried(Boolean isMarried) &#123;  </span><br><span class="line">        this.isMarried = isMarried;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public Double getIncome() &#123;  </span><br><span class="line">        return income;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void setIncome(Double income) &#123;  </span><br><span class="line">        this.income = income;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public String[] getInterests() &#123;  </span><br><span class="line">        return interests;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void setInterests(String[] interests) &#123;  </span><br><span class="line">        this.interests = interests;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Spring MVC 控制器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value=&quot;/user-save&quot;)</span><br><span class="line">   public void saveUserInfo(User user)  </span><br><span class="line">   &#123;  </span><br><span class="line">       // user 对象包含请求值</span><br><span class="line">       // 名字、年龄、收入、是否结婚、兴趣列表</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JSP/HTML</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;user-save&quot; method=&quot;post&quot;&gt;  </span><br><span class="line">    </span><br><span class="line">    &lt;input name=&quot;name&quot; value=&quot;姓名&quot;/&gt;&lt;/div&gt;  </span><br><span class="line">    &lt;input name=&quot;age&quot; value=&quot;20&quot;/&gt;&lt;/div&gt;  </span><br><span class="line">    &lt;input name=&quot;income&quot; value=&quot;100000&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;isMarried&quot; value=&quot;true&quot; checked=&quot;checked&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;isMarried&quot; value=&quot;false&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;interests&quot; value=&quot;Ruby&quot; checked=&quot;checked&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;interests&quot; value=&quot;Python&quot; checked=&quot;checked&quot;/&gt;  </span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;interests&quot; value=&quot;Clojure&quot; checked=&quot;checked&quot;/&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交表单&quot;/&gt; </span><br><span class="line">&lt;/form</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/05/17/2013/Mysql 异常及其解决方案/" itemprop="url">
                  Mysql 异常及其解决方案
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-05-17T12:53:00+08:00" content="2013-05-17">
              2013-05-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Data-Base-Management-System/" itemprop="url" rel="index">
                    <span itemprop="name">Data Base Management System</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Data-Base-Management-System/Mysql/" itemprop="url" rel="index">
                    <span itemprop="name">Mysql</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/05/17/2013/Mysql 异常及其解决方案/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/05/17/2013/Mysql 异常及其解决方案/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>记录遇到过的Mysql错误，及其解决方案，持续更新</strong></p>
<h2 id="ERROR-1130"><a href="#ERROR-1130" class="headerlink" title="ERROR 1130"></a>ERROR 1130</h2><p><strong>本地链接远程Mysql 数据库异常</strong></p>
<h3 id="错误信息"><a href="#错误信息" class="headerlink" title="错误信息"></a>错误信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1130: Host 192.168.12.153 is not allowed to connect to this MySQL server</span><br></pre></td></tr></table></figure>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p><strong>开启远程访问权限</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p -h localhost -P 3306</span><br><span class="line"></span><br><span class="line">use mysql</span><br><span class="line"></span><br><span class="line">// 所有IP，均可访问</span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos;IDENTIFIED BY &apos;123456&apos; WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">// 如下指定特定IP，同样可以指定用户，及其密码</span><br><span class="line">// GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;192.168.10.72&apos;IDENTIFIED BY &apos;123456&apos; WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">// 所有IP</span><br><span class="line">//GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos;WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参看doc：<a href="http://dev.mysql.com/doc/refman/5.1/en/adding-users.html" target="_blank" rel="external">http://dev.mysql.com/doc/refman/5.1/en/adding-users.html</a><br><a href="http://dev.mysql.com/doc/refman/5.7/en/grant.html" target="_blank" rel="external">http://dev.mysql.com/doc/refman/5.7/en/grant.html</a></p>
</blockquote>
<h2 id="ERROR-1045"><a href="#ERROR-1045" class="headerlink" title="ERROR 1045"></a>ERROR 1045</h2><h3 id="错误信息-1"><a href="#错误信息-1" class="headerlink" title="错误信息"></a>错误信息</h3><p><strong>使用root 且密码正确，无法登陆，</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)</span><br></pre></td></tr></table></figure></p>
<h3 id="解决方案-1"><a href="#解决方案-1" class="headerlink" title="解决方案"></a>解决方案</h3><p><strong>由于是root用户无法登陆，需要先打开无密码登陆</strong></p>
<ul>
<li>解决1045错误<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update user set authentication_string=PASSWORD(&apos;123456&apos;) where user=&apos;root&apos; and host=&apos;localhost&apos;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ERROR-1406-22001-和ERROR-1366-HY000"><a href="#ERROR-1406-22001-和ERROR-1366-HY000" class="headerlink" title="ERROR 1406 (22001)和ERROR 1366 (HY000)`"></a>ERROR 1406 (22001)<code>和</code>ERROR 1366 (HY000)`</h2><h3 id="错误信息-2"><a href="#错误信息-2" class="headerlink" title="错误信息"></a>错误信息</h3><p><strong>导入数据出现<code>ERROR 1406 (22001):</code>和<code>ERROR 1366 (HY000)</code> 错误</strong></p>
<img src="/2013/05/17/2013/Mysql%20异常及其解决方案/e8a266cd-6e44-4a0b-967d-4cd707c1f23e.png" alt="错误详情" title="错误详情">
<h3 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3><p>命令行窗口默认为GBK编码,而SQL文件为UTF-8,进行数据导入，它并不买账。 即便你使用”set names utf8;”,也是无效的,这是系统编码问题。有如下两种解决方案。</p>
<ul>
<li>使用图形化界面进行SQL导入，非常容易。（sqlyog之类的图形工具）</li>
<li>进行如下操作<ul>
<li>启动CMD(Window 命令行工具) -&gt; 输入chcp 65001 -&gt; 它将进入utf-8模式。</li>
<li>mysql -u root -p  进行SQL 控制台 -&gt; source f:/xx/xx.sql 进行数据导入</li>
<li>如果你想在改为GBK模式。 输入:chcp 936</li>
</ul>
</li>
</ul>
<img src="/2013/05/17/2013/Mysql%20异常及其解决方案/dd1f2b82-0c9c-49fe-885d-f5e20619c8f1.png" alt="执行成功信息" title="执行成功信息">
<h2 id="ERROR-1045-28000"><a href="#ERROR-1045-28000" class="headerlink" title="ERROR 1045 (28000)"></a>ERROR 1045 (28000)</h2><h3 id="错误信息-3"><a href="#错误信息-3" class="headerlink" title="错误信息"></a>错误信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos;</span><br></pre></td></tr></table></figure>
<h3 id="解决方案-2"><a href="#解决方案-2" class="headerlink" title="解决方案"></a>解决方案</h3><p><strong>如果不是root用户出现1045，直接使用root 对象该用户进行授权即可</strong></p>
<ul>
<li><p>使用 mysql -u root 无密码登陆。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 关闭mysql</span><br><span class="line">service mysqld stop</span><br><span class="line">vi /etc/my.cnf</span><br><span class="line">// 将skip-grant-tables 添加至末尾,并保存</span><br><span class="line">service mysqld start</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新设置密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//选择数据库</span><br><span class="line">use mysql</span><br><span class="line">// 设置密码。  5.7 相比5.5 user表中password字段改为authentication_string。如下</span><br><span class="line">update user set authentication_string=PASSWORD(&apos;123456&apos;) where user=&apos;root&apos; and host=&apos;localhost&apos;;</span><br><span class="line">//更新权限表</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭无密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 关闭数据库</span><br><span class="line">//删除skip-grant-tables </span><br><span class="line">//开启数据库</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ERROR-1820-HY000"><a href="#ERROR-1820-HY000" class="headerlink" title="ERROR 1820 (HY000)"></a>ERROR 1820 (HY000)</h2><h3 id="错误信息-4"><a href="#错误信息-4" class="headerlink" title="错误信息"></a>错误信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</span><br></pre></td></tr></table></figure>
<h3 id="解决方案-3"><a href="#解决方案-3" class="headerlink" title="解决方案"></a>解决方案</h3><p>重设密码，如下：localhost<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET PASSWORD = PASSWORD(&apos;localhost&apos;);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/03/14/2013/常见系统缩写/" itemprop="url">
                  常见系统缩写
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-03-14T17:53:00+08:00" content="2013-03-14">
              2013-03-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Software-Engineering/" itemprop="url" rel="index">
                    <span itemprop="name">Software Engineering</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/03/14/2013/常见系统缩写/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/03/14/2013/常见系统缩写/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>老是看到一些系统专有名词，还有部分不认识~ 很尴尬，总结一下，便于以后区分。</p>
<table>
<thead>
<tr>
<th>缩写名称</th>
<th>全称</th>
<th>中文名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMS</td>
<td>Content Management System</td>
<td>内容管理系统</td>
</tr>
<tr>
<td>DRP</td>
<td>Distribution Resource Planning</td>
<td>分销资源计划</td>
</tr>
<tr>
<td>OA</td>
<td>Office Automation</td>
<td>办公自动化</td>
</tr>
<tr>
<td>CRM</td>
<td>Customer Relationship Management</td>
<td>客户关系管理系统</td>
</tr>
<tr>
<td>ERP</td>
<td>Enterprise Resource Planning</td>
<td>企业资源计划</td>
</tr>
<tr>
<td>EAM</td>
<td>Enterprise Asset Management</td>
<td>企业资产管理</td>
</tr>
<tr>
<td>PLM</td>
<td>Product Lift Cycle management</td>
<td>产品生命周期管理</td>
</tr>
<tr>
<td>PDM</td>
<td>Product Data Management</td>
<td>产品数据管理</td>
</tr>
<tr>
<td>HRS</td>
<td>Human Resource Suite</td>
<td>人力资源平台</td>
</tr>
<tr>
<td>KM</td>
<td>Knowledge Management</td>
<td>知识管理</td>
</tr>
<tr>
<td>MES</td>
<td>Manufacturing Execution System</td>
<td>制造执行系统</td>
</tr>
<tr>
<td>SCM</td>
<td>Supply Chain Management</td>
<td>供应链管理</td>
</tr>
<tr>
<td>BPM</td>
<td>Business Process Management</td>
<td>业务流程管理</td>
</tr>
<tr>
<td>BI</td>
<td>Business Intelligence</td>
<td>商业智能</td>
</tr>
<tr>
<td>MDM</td>
<td>Mobile Device Management</td>
<td>移动设备管理</td>
</tr>
<tr>
<td>MIS</td>
<td>Management Information System</td>
<td>管理信息系统</td>
</tr>
<tr>
<td>DSS</td>
<td>Decision Support System</td>
<td>决策支持系统</td>
</tr>
<tr>
<td>GIS</td>
<td>Geographic Information System</td>
<td>地理信息系统</td>
</tr>
<tr>
<td>SOA</td>
<td>Service-Oriented Architecture</td>
<td>面向服务的体系结构 </td>
</tr>
</tbody>
</table>
<p><strong>SOA并不属于系统，而是一种架构设计</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/03/05/2013/JSPServlet3.0总结/" itemprop="url">
                  JSP/Servlet3.0总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-03-05T19:53:00+08:00" content="2013-03-05">
              2013-03-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java-Web/" itemprop="url" rel="index">
                    <span itemprop="name">Java Web</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java-Web/JSP-Servlet/" itemprop="url" rel="index">
                    <span itemprop="name">JSP/Servlet</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/03/05/2013/JSPServlet3.0总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/03/05/2013/JSPServlet3.0总结/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>总结下一JSP/Servlet3.0，记性不好，记录一下，容易反查。</p>
<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><h3 id="JSP-注释"><a href="#JSP-注释" class="headerlink" title="JSP 注释"></a>JSP 注释</h3><h4 id="一种显示注释和三种隐式注释"><a href="#一种显示注释和三种隐式注释" class="headerlink" title="一种显示注释和三种隐式注释"></a>一种显示注释和三种隐式注释</h4><p>JSP中有两种注释方式：</p>
<ul>
<li><p>显示注释<br><strong>显示注释就是HTML注释方式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 注释内容 --&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>隐式注释<br><strong>JSP 注释方式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-- 注释内容 --%&gt;</span><br></pre></td></tr></table></figure>
<p><strong>单行注释</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">// 注释内容</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<p><strong>多行注释</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">/*</span><br><span class="line">1.注释内容</span><br><span class="line">2.注释内容</span><br><span class="line">*/</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="显示注释和隐式注释的区别"><a href="#显示注释和隐式注释的区别" class="headerlink" title="显示注释和隐式注释的区别"></a>显示注释和隐式注释的区别</h4><p>Servlet渲染页面的过程如下：</p>
<blockquote>
<p>JSP -&gt; Servlet -&gt; HTML</p>
</blockquote>
<p>显示注释和隐式注释的区别:<br><strong>渲染为HTML页面后，显示注释的内容会显示到页面中，而隐式注释不会显示到页面中。</strong></p>
<h3 id="Scriptle-脚本片段"><a href="#Scriptle-脚本片段" class="headerlink" title="Scriptle 脚本片段"></a>Scriptle 脚本片段</h3><p>我们将JSP中写Java代码片段（代码块）理解为Scriptle 脚本片段 。Scriptle 脚本片段我们考虑如下三种情况：</p>
<ul>
<li><p>局部代码块<br><strong>通过<code>&lt;% Java %&gt;</code> 进行局部代码编写</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">StringBuffer sb = new StringBuffer();</span><br><span class="line">// TODO</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>全局变量和方法<br><strong>通过<code>&lt;%！ Java %&gt;</code> 进行全局代码编写</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">String user = &quot;root&quot;;</span><br><span class="line">String password = &quot;123456&quot;;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>输出<br><strong>这里的输出要理解为渲染，它并不是将内容输出到控制台，而是渲染到页面上。  （特别说明）</strong><br><strong>输出有两种方式</strong></p>
<ul>
<li><p>通过<code>&lt;%= 内容 %&gt;</code> 进行内容输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%=</span><br><span class="line">&quot;&lt;p&gt;cmp-cc.github.io 是一个Blog &lt;/p&gt;&quot;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过<code>&lt;% out.println(&quot;内容&quot;) %&gt;</code> 进行内容输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">out.println(&quot;cmp-cc.github.io 是一个Blog&quot;);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="Scriptlet-标签"><a href="#Scriptlet-标签" class="headerlink" title="Scriptlet 标签"></a>Scriptlet 标签</h3><p>HTML 中有Tag标签，每一标签有它特殊的含义和用途，JSP同样可以引入标签，我们称为：Scriptlet 标签 。<br>Scriptlet 标签是用来取代&lt;%%&gt; 这种形式，使得页面展示更加友好。</p>
<p>吧啦吧啦！！！！  （一大堆使用Scriptlet 标签 取代 &lt;%%&gt; 的好处）。</p>
<p>Scriptlet 标签基本写法：<br><strong>这里是JSP标签，很多标签的写法是一致的</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:scriptle&gt;</span><br><span class="line">            </span><br><span class="line">&lt;/jsp:scriptle&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="JSP指令"><a href="#JSP指令" class="headerlink" title="JSP指令"></a>JSP指令</h3><p>  JSP指令用来设置与整个JSP页面相关的属性，它并不直接产生任何可见的输出,而只是告诉引擎如何处理其余JSP页面。</p>
<p>其一般语法形式为：  &lt;%@ 指令名称 属性=”值” %&gt;</p>
<p>三种命令指令分别是</p>
<ul>
<li>page<br><strong>设定整个JSP网页的静态属性</strong></li>
<li>include<br><strong>include指令用来向当前页面插入一个静态文件的内容。这个文件可以是JSP、HTML、文本或是Java程序</strong></li>
<li>taglib<br><strong>使用标签库定义新的自定义标签，在JSP页面中启用定制行为</strong></li>
</ul>
<h4 id="page-指令-（页面指令）"><a href="#page-指令-（页面指令）" class="headerlink" title="page 指令 （页面指令）"></a>page 指令 （页面指令）</h4><p>作用： 设定整个JSP网页的静态属性<br>语法：键值对，空格分割。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=utf-8&quot;</span><br><span class="line">    pageEncoding=&quot;utf-8&quot;%&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>page指令属性</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>autoFlush</td>
<td>满缓冲刷新，否异常 默认true</td>
</tr>
<tr>
<td>buffer</td>
<td>指定输出模式缓冲流，none 无，指定数值，大于此值，与上一起用，默认大于8kb</td>
</tr>
<tr>
<td>contentType</td>
<td>定义字符编码和页面响应MIME类型：contentType=”text/html;charset=GBK”</td>
</tr>
<tr>
<td>errorPage</td>
<td>错误跳转页面errorPage=”error.jsp” 与isErrorPage同用</td>
</tr>
<tr>
<td>extends</td>
<td>定义JSP页面产生的Servlet 类的扩展， extends=””</td>
</tr>
<tr>
<td>import</td>
<td>import=”java.util.*”</td>
</tr>
<tr>
<td>info</td>
<td>此JSP信息 info=”info.exe”</td>
</tr>
<tr>
<td>isErrorPage</td>
<td>设置true或false</td>
</tr>
<tr>
<td>isThreadSafe</td>
<td>此页面是否是线程安全的，true，表示一个JSP页面可以处理多个用户，false， 一次只能处理一个用户。</td>
</tr>
<tr>
<td>language</td>
<td>用来定义使用的脚本语言, language=”java”</td>
</tr>
<tr>
<td>pageEncoding</td>
<td>JSP页面的字节编码 pageEncoding=”utf-8”</td>
</tr>
<tr>
<td>session</td>
<td>指定所在页面是否参与HTTP对话，默认:true</td>
</tr>
</tbody>
</table>
<p><strong>实例代码</strong></p>
<ul>
<li>引入ArrayList 和 StringTokenizer<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=utf-8&quot;</span><br><span class="line">    pageEncoding=&quot;utf-8&quot;%&gt;</span><br><span class="line">&lt;%@ page import=&quot;java.util.ArrayList,java.util.StringTokenizer;&quot; %&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="include-（包含指令）"><a href="#include-（包含指令）" class="headerlink" title="include （包含指令）"></a>include （包含指令）</h4><p><strong>包含指令的用法非常简单，因为它只有一个属性</strong><br>作用： include指令用来向当前页面插入一个静态文件的内容。这个文件可以是JSP、HTML、文本或是Java程序<br>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@include file=&quot;文件路径&quot;%&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>注意：</strong><br>1、include 属于静态包含。（先包含后处理）<br>2、如果直接以文件名开头,指的是正在使用的JSP文件所在的路径,如果以/开头,指的是正在使用的JSP文件上下的路径关系(相对于WEB应用的根目录。)</p>
<p><strong>实例</strong></p>
<ul>
<li>index.jsp 引入 home.jsp<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ include file=&quot;home.jsp&quot;%&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="taglib-（标签指令）"><a href="#taglib-（标签指令）" class="headerlink" title="taglib （标签指令）"></a>taglib （标签指令）</h4><p>当页面引用了用户自定义标签时，taglib指令用于引用自定义标签库，并指定标签的前缀。<br>JSP内置的标签，我们称为JSP标签。</p>
<p>作用：使用标签库定义新的自定义标签，在JSP页面中启用定制行为。<br>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib uri=&quot;URIToTagLibrary&quot; prefix=&quot;tagPrefix&quot; %&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>taglib 指令属性</strong><br>属性 | 说明<br>— | —<br>uri | 定位标签库描述符的位置。唯一标识和前缀相关的标签库描述符，可以使用绝对或相对URL。<br>tagDir | 指示前缀将被用于标识在WEV-INF/tags目录下的标签文件。<br>prefix | 标签的前缀，区分多个自定义标签。不可以使用保留前缀和空前缀，遵循XML命名空间的命名约定。</p>
<p><strong>实例</strong></p>
<ul>
<li>引入JSTL 标签库<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;taglib uri=&quot;http://java.sun.com /jsp/jstl/core&quot; prefix=&quot;c&quot; /&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="JSP-内置标签"><a href="#JSP-内置标签" class="headerlink" title="JSP 内置标签"></a>JSP 内置标签</h3><p><strong>JSP 一共有13个内置标签，他们用于完成不同的功能</strong><br><strong>暂略</strong></p>
<h4 id="静态包含和动态包含的区别"><a href="#静态包含和动态包含的区别" class="headerlink" title="静态包含和动态包含的区别"></a>静态包含和动态包含的区别</h4><ul>
<li><p>写法</p>
<ul>
<li><p>静态包含<br>静态包含就是使用包含指令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@include file=&quot;文件路径&quot;%&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>动态包含<br>使用JSP标签 <jsp:include></jsp:include></p>
</li>
</ul>
</li>
<li><p>区别：</p>
<ul>
<li>静态包含<br><strong>执行时间是在编译阶段执行，引入的内容为静态文件，在编译成servlet时就和包含者融合到一起,最后生成HTML</strong></li>
<li>动态包含<br><strong>执行时间是在请求阶段执行，引入的内容在执行页面时被请求时动态生成再包含到页面中。</strong></li>
</ul>
</li>
</ul>
<h3 id="JSP-内置对象"><a href="#JSP-内置对象" class="headerlink" title="JSP 内置对象"></a>JSP 内置对象</h3><h4 id="JSP-九种内置对象"><a href="#JSP-九种内置对象" class="headerlink" title="JSP 九种内置对象"></a>JSP 九种内置对象</h4><p><strong>JSP 内置九种内置对象，你并不需要使用include 去引入它</strong></p>
<table>
<thead>
<tr>
<th>对象名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>pageContext</td>
<td>JSP的页面容器</td>
</tr>
<tr>
<td>request</td>
<td>得到用户的请求信息</td>
</tr>
<tr>
<td>response</td>
<td>服务器向用户的回应信息</td>
</tr>
<tr>
<td>session</td>
<td>用来保存内一个用户信息</td>
</tr>
<tr>
<td>application</td>
<td>表示所有用户的共享信息</td>
</tr>
<tr>
<td>config</td>
<td>服务器配置，可以去的初始值参数页面输出</td>
</tr>
<tr>
<td>out</td>
<td>页面输出</td>
</tr>
<tr>
<td>page</td>
<td>表示从页面中表示出来的一个Servlet实例</td>
</tr>
<tr>
<td>exception</td>
<td>表示JSP页面所发生异常，在错误页面才起作用</td>
</tr>
</tbody>
</table>
<h4 id="JSP-四种属性范围"><a href="#JSP-四种属性范围" class="headerlink" title="JSP 四种属性范围"></a>JSP 四种属性范围</h4><p><strong>这里涉及JSP页面请求的生命周期,  暂略</strong></p>
<table>
<thead>
<tr>
<th>作用范围名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>page</td>
<td>只在一个页面中保存属性，跳转之后无效。（使用pageContext表示）</td>
</tr>
<tr>
<td>request</td>
<td>再一次请求中保存属性，服务器跳转后依然有效。</td>
</tr>
<tr>
<td>session</td>
<td>再一次会话范围中保存，无论何种跳转都可以使用，但是新开浏览器无法使用。</td>
</tr>
<tr>
<td>application</td>
<td>在整个服务器上保存，所有用户都可以使用。</td>
</tr>
</tbody>
</table>
<h3 id="JSP-JavaBean"><a href="#JSP-JavaBean" class="headerlink" title="JSP JavaBean"></a>JSP JavaBean</h3><p><strong>JSP 使用使用JavaBean，除了可以使用&lt;%User user = new User();%&gt;的方式，大多数使用<code>&lt;jsp:useBean&gt;</code>标签</strong></p>
<ul>
<li><p>写法<br><strong>它会按照按名称完成自动匹配</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:useBean id=&quot;实例化对象名称&quot; scope=&quot;保存范围&quot; class=&quot;包.类名称&quot;/&gt;</span><br><span class="line">&lt;jsp:setProperty name=&quot;javabean对象&quot; property=&quot;*&quot;/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用参数 <jsp:property></jsp:property></p>
<ul>
<li><code>&lt;jsp:setProperty name=&quot;id&quot; property=&quot;*&quot;/&gt;</code>  </li>
<li><code>&lt;jsp:setProperty name=&quot;id&quot; property=&quot;属性名称&quot;/&gt;</code></li>
<li><code>&lt;jsp:setProperty name=&quot;id&quot; property=&quot;属性名称&quot; param=&quot;参数名称&quot;/&gt;</code></li>
<li><code>&lt;jsp:setProperty name=&quot;id&quot; property=&quot;属性名称&quot; param=&quot;参数名称&quot; value=&quot;内容&quot;/&gt;</code></li>
</ul>
</li>
<li><p>获得属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:getProperty name=&quot;实例化对象名称&quot; property=&quot;属性名称&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JavaBean的保存范围</p>
<ul>
<li>page </li>
<li>request </li>
<li>session </li>
<li>application</li>
</ul>
</li>
<li>JavaBean删除<br><strong>作用域范围.removeAttribute(JavaBean名称)，必须根据设置的范围删除</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pageContext.removeAttribute(&quot;javabean&quot;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><p><strong>这里简单总结</strong></p>
<h3 id="Servlet-基础"><a href="#Servlet-基础" class="headerlink" title="Servlet 基础"></a>Servlet 基础</h3><h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><p>Servlet 生命周期如下：</p>
<blockquote>
<p>加载 -&gt; 初始化 -&gt; 服务 -&gt; 销毁 -&gt; 卸载</p>
</blockquote>
<h4 id="内置方法"><a href="#内置方法" class="headerlink" title="内置方法"></a>内置方法</h4><table>
<thead>
<tr>
<th>方法名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>init()</td>
<td>Servlet初始化调用</td>
</tr>
<tr>
<td>init(ServletConfig)</td>
<td>Servlet初始化调用，ServletConfig读取配置信息</td>
</tr>
<tr>
<td>service()</td>
<td>Servlet服务，一般不会直接覆写此方法，而是使用doGet()或doPost()方法</td>
</tr>
<tr>
<td>destroy()</td>
<td>Servlet销毁时调用</td>
</tr>
</tbody>
</table>
<h4 id="web-xml-配置Servlet，并附加初始值"><a href="#web-xml-配置Servlet，并附加初始值" class="headerlink" title="web.xml 配置Servlet，并附加初始值"></a>web.xml 配置Servlet，并附加初始值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;                                         定义&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;xxxx&lt;/servlet-name&gt;             与servlet-mapping对应</span><br><span class="line">    &lt;servlet-class&gt;                               定义包.类名称</span><br><span class="line">    io.github.cmp-cc.xxxx</span><br><span class="line">  &lt;/servlet-class&gt;</span><br><span class="line">  &lt;init-param&gt;                                    配置参数，可配置多个</span><br><span class="line">    &lt;param-name&gt;ref&lt;/param-name&gt;                  参数名称</span><br><span class="line">    &lt;param-value&gt;值&lt;/param-value&gt;                 参数内容</span><br><span class="line">  &lt;/init-param&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;                                 映射路径</span><br><span class="line">  &lt;servlet-name&gt;xxxx&lt;/servlet-name&gt;               与servlet相对应</span><br><span class="line">  &lt;url-pattern&gt;/xxx&lt;/url-pattern&gt;                 页面映射路径</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Servlet 获取初始值</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Congif.getinitParameter（&quot;ref&quot;）取出</span><br></pre></td></tr></table></figure></p>
<h4 id="获取HttpSession、ServletContext-实例"><a href="#获取HttpSession、ServletContext-实例" class="headerlink" title="获取HttpSession、ServletContext 实例"></a>获取HttpSession、ServletContext 实例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">getSession（）              // 返回当前session</span><br><span class="line">getSession（boolean）       // 返回当前session，是否新建。</span><br><span class="line">getServletContext（）       // 取得ServletContext对象</span><br></pre></td></tr></table></figure>
<h4 id="请求转发与重定向"><a href="#请求转发与重定向" class="headerlink" title="请求转发与重定向"></a>请求转发与重定向</h4><h5 id="请求转发与重定向的区别"><a href="#请求转发与重定向的区别" class="headerlink" title="请求转发与重定向的区别"></a>请求转发与重定向的区别</h5><ul>
<li>请求转发<br><strong>调用者与被调用者之间共享相同的request对象和response对象，他们属于同一个访问请求和响应过程，我们可以称之为<code>服务器跳转</code></strong></li>
<li>重定向<br><strong>调用者与被调用者,不共享属性和方法，等同于点击一个URL。 我们称之为<code>客户端跳转</code></strong><h5 id="请求转发与重定向的用法"><a href="#请求转发与重定向的用法" class="headerlink" title="请求转发与重定向的用法"></a>请求转发与重定向的用法</h5></li>
<li><p>重定向（客户点跳转）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.sendRedirect（&quot;success.jsp&quot;）;</span><br></pre></td></tr></table></figure>
</li>
<li><p>请求转发（服务端跳转）<br><strong>有两个方法用于请求转发</strong></p>
<ul>
<li><p>forward(req,res);        页面跳转    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.getRequestDispatcher(&quot;success.jsp&quot;).forward(request,response);</span><br></pre></td></tr></table></figure>
</li>
<li><p>include(req.res)       页面包含</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.getRequestDispatcher(&quot;main.jsp&quot;).include(request, response);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="forward-和-include-区别"><a href="#forward-和-include-区别" class="headerlink" title="forward 和 include 区别"></a>forward 和 include 区别</h4><ul>
<li>forward方法是把请求的内容转发到另外的一个servlet.</li>
<li>include是把另一个servlet处理过后的结果内容拿过来.<h3 id="Servlet-过滤器"><a href="#Servlet-过滤器" class="headerlink" title="Servlet 过滤器"></a>Servlet 过滤器</h3>Servlet 自定义过滤器需要两个步骤</li>
<li><p>1、实现Filter接口</p>
<ul>
<li><p>Filter 方法<br>方法名称 | 说明<br>— | —<br>init（FilterConfig）| 过滤器初始化<br>doFilter(req,res)  |  完成过滤操作，然后通过FilterChain传递<br>destroy() | 过滤器消亡，执行方法</p>
</li>
<li><p>实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">  private String encodeString;</span><br><span class="line"></span><br><span class="line">//初始化方法</span><br><span class="line">@Override</span><br><span class="line">public void init(FilterConfig filterConfig) throws ServletException &#123;</span><br><span class="line">  // 获取Web.xml 中配置的属性值</span><br><span class="line">  encodeString=filterConfig.getInitParameter(&quot;encoding&quot;);</span><br><span class="line">&#125;</span><br><span class="line">  //filter 要实现的功能</span><br><span class="line">@Override</span><br><span class="line">public void doFilter(ServletRequest request, ServletResponse response,</span><br><span class="line">    FilterChain chain) throws IOException, ServletException &#123;</span><br><span class="line">  System.out.println(&quot;begin&quot;);</span><br><span class="line">  // 设置字符集</span><br><span class="line">  request.setCharacterEncoding(encodeString);</span><br><span class="line">  </span><br><span class="line">  //继续向下执行，如果还有其他filter继续调用其他filter，没有的话将消息发送给服务器或客户端</span><br><span class="line">  chain.doFilter(request, response);</span><br><span class="line">  System.out.println(&quot;end&quot;);</span><br><span class="line">&#125;</span><br><span class="line">//Filter注销方法</span><br><span class="line">@Override</span><br><span class="line">public void destroy() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>2、配置Web.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">    &lt;filter-name&gt;encodeFilter&lt;/filter-name&gt;</span><br><span class="line">    &lt;filter-class&gt;io.github.cmp-cc.filter.encodeFilter&lt;/filter-class&gt;</span><br><span class="line">&lt;/filter&gt;</span><br><span class="line">&lt;filter-mapping&gt;</span><br><span class="line">    &lt;filter-name&gt;encodeFilter&lt;/filter-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;</span><br><span class="line">&lt;/filter-mapping&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>url-pattern指定匹配模式</p>
</blockquote>
<h3 id="Servlet-监听器"><a href="#Servlet-监听器" class="headerlink" title="Servlet 监听器"></a>Servlet 监听器</h3><h4 id="监听器类型"><a href="#监听器类型" class="headerlink" title="监听器类型"></a>监听器类型</h4><table>
<thead>
<tr>
<th>类型</th>
<th>接口名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>application</td>
<td>ServletContextListener</td>
<td>上下文状态监听器：监听应用容器启动和消亡</td>
</tr>
<tr>
<td>application</td>
<td>ServletContextAttributeListener</td>
<td>上下文属性监听器：监听增删改变换</td>
</tr>
<tr>
<td>session</td>
<td>HttpSessionListener</td>
<td>状态监听器： 监听一次会话（Session）启动和消亡</td>
</tr>
<tr>
<td>session</td>
<td>HttpSessionAttributeListener</td>
<td>Session 属性监听：监听增删改变换</td>
</tr>
<tr>
<td>session</td>
<td>HttpSessionBindingListener</td>
<td>Session 对象绑定监听：Session绑定对象触发和消亡</td>
</tr>
<tr>
<td>request</td>
<td>ServletRequestListener</td>
<td>请求监听器：监听一个请求（Request）启动和消亡</td>
</tr>
<tr>
<td>request</td>
<td>ServletRequestAttributeListener</td>
<td>Request 属性监听：监听增删改变换</td>
</tr>
</tbody>
</table>
<h4 id="监听器的方法"><a href="#监听器的方法" class="headerlink" title="监听器的方法"></a>监听器的方法</h4><h5 id="application-监听"><a href="#application-监听" class="headerlink" title="application 监听"></a>application 监听</h5><p><strong>ServletContextListener </strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>contextInitialized(ServletContextEvent)</td>
<td>容器启动时触发</td>
</tr>
<tr>
<td>contextDestroyed（ServletContextEvent）</td>
<td>容器销毁时触发</td>
</tr>
</tbody>
</table>
<ul>
<li>ServletContextEvent<ul>
<li>getServletContext() 取得ServletContext对象</li>
</ul>
</li>
</ul>
<hr>
<p><strong>ServletContextAttributeListener </strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>attributeAdded（ServletContexArribute）</td>
<td>增加属性触发</td>
</tr>
<tr>
<td>attributeRemoved(ServletContexArribute)</td>
<td>删除属性触发</td>
</tr>
<tr>
<td>attributeReplaced(ServletContexArribute)</td>
<td>替换属性(重复设置)时触发</td>
</tr>
</tbody>
</table>
<ul>
<li>ServletContexArribute <ul>
<li>getName()取得设置属性名称</li>
<li>getValue()取得设置属性内容</li>
</ul>
</li>
</ul>
<hr>
<h5 id="session-监听"><a href="#session-监听" class="headerlink" title="session 监听"></a>session 监听</h5><p><strong>HttpSessionListener</strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>sessionCreated(HttpSessionEvent)</td>
<td>session创建时调用</td>
</tr>
<tr>
<td>sessionDestroyed(HttpSessionEvent)</td>
<td>session销毁时调用</td>
</tr>
</tbody>
</table>
<ul>
<li>HttpSessionAttributeListener<ul>
<li>getsession()取得当前session</li>
</ul>
</li>
</ul>
<hr>
<p><strong>HttpSessionAttributeListener</strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>attributeAdded(HttpSessionBindingEvent)</td>
<td>增加属性触发</td>
</tr>
<tr>
<td>attributeRemoved(HttpSessionBindingEvent)</td>
<td>删除属性触发</td>
</tr>
<tr>
<td>attributeReplaced(HttpSessionBindingEvent)</td>
<td>替换属性时触发</td>
</tr>
</tbody>
</table>
<ul>
<li>HttpSessionBindingListener<ul>
<li>getSession()取得session</li>
<li>getName()取得属性名称</li>
<li>getValue()取得属性的内容</li>
</ul>
</li>
</ul>
<hr>
<p><strong>HttpSessionBindingListener </strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>valueBound(HttpSessionBindingEvent)</td>
<td>绑定对象到session时触发</td>
</tr>
<tr>
<td>valueUnbound(HttpSessionBindingEvent)</td>
<td>从session中移除对象时触发</td>
</tr>
</tbody>
</table>
<hr>
<h5 id="request-监听"><a href="#request-监听" class="headerlink" title="request 监听"></a>request 监听</h5><p><strong>ServletRequestListener</strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>requestInitialized(ServletRequestEvent)</td>
<td>请求开始时调用</td>
</tr>
<tr>
<td>requestDestroyed(ServletRequestEvent)</td>
<td>请求结束时调用</td>
</tr>
</tbody>
</table>
<ul>
<li>ServletRequestEvent<ul>
<li>getServletRequest() 取得ServletRequest对象</li>
<li>getServletContext()取得ServletContext对象</li>
</ul>
</li>
</ul>
<hr>
<p><strong>ServletRequestAttributeListener</strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>attributeAdded(ServletRequestAttributeEvent)</td>
<td>增加属性触发</td>
</tr>
<tr>
<td>attributeRemoved(ServletRequestAttributeEvent)</td>
<td>删除属性触发</td>
</tr>
<tr>
<td>attributeReplaced(ServletRequestAttributeEvent)</td>
<td>替换属性(重复设置)时触发</td>
</tr>
</tbody>
</table>
<ul>
<li>ServletRequestAttributeEvent<ul>
<li>getName()         取得属性名称</li>
<li>getValue()         取得属性的内容</li>
</ul>
</li>
</ul>
<hr>
<h4 id="监听器实例"><a href="#监听器实例" class="headerlink" title="监听器实例"></a>监听器实例</h4><h4 id="web-xml-配置监听器"><a href="#web-xml-配置监听器" class="headerlink" title="web.xml 配置监听器"></a>web.xml 配置监听器</h4><p><strong>如此简单</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;listener&gt;</span><br><span class="line">   &lt;listener-class&gt;io.github.cmp-cc.listener.RquestCountListener&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="EL-表达式"><a href="#EL-表达式" class="headerlink" title="EL 表达式"></a>EL 表达式</h2><p><strong>EL表达式可以理解为是JSP的一部分，把EL表达式单独拎出来，说是因为，它只是提供了一种更加简写操作内置对象的一种方式，就简单的总结一下。</strong></p>
<h3 id="语法结构"><a href="#语法结构" class="headerlink" title="语法结构"></a>语法结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;expression&#125;</span><br></pre></td></tr></table></figure>
<h3 id="与-运算符"><a href="#与-运算符" class="headerlink" title=".与  []  运算符"></a><code>.</code>与  <code>[]</code>  运算符</h3><p>这两个运算符都是用于取值操作，可能你已经习惯如果取值方式,他更符合你的编程习惯。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;sessionScope.user.username&#125;</span><br></pre></td></tr></table></figure></p>
<p>但是，要取值的key 为 $-3，怎么办?  ，你就需要使用<code>[]</code> 运算符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$&#123;sessionScope.user[$-3]&#125;</span><br><span class="line"></span><br><span class="line">$&#123;sessionScope.user.$-3&#125;   // 这是会报错的。</span><br></pre></td></tr></table></figure></p>
<p>如果你想忘掉<code>.</code>的方式也是可行的。</p>
<h3 id="EL表达式隐式对象"><a href="#EL表达式隐式对象" class="headerlink" title="EL表达式隐式对象"></a>EL表达式隐式对象</h3><p><strong>EL表达式有十一个隐式对象</strong></p>
<p><strong>四大作用域对象</strong></p>
<table>
<thead>
<tr>
<th>对象名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>pageScope</td>
<td>将页面范围的变量名称映射到其值。</td>
</tr>
<tr>
<td>requestScope</td>
<td>将请求范围的变量名称映射到其值。</td>
</tr>
<tr>
<td>sessionScope</td>
<td>将会话范围的变量名称映射到其值。该对象允许访问会话对象的属性。</td>
</tr>
<tr>
<td>applicationScope</td>
<td>将应用程序范围的变量名称映射到其值。该隐式对象允许访问应用程序范围的对象。</td>
</tr>
</tbody>
</table>
<p><strong>一个上下文对象</strong></p>
<table>
<thead>
<tr>
<th>对象名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>pageContext</td>
<td>javax.servlet.jsp.PageContext对象 将页面范围的变量名称映射到其值。用于访问 JSP 隐式对象，如请求、响应、会话、输出、servletContext</td>
</tr>
</tbody>
</table>
<p><strong>其他六个不同作用的隐式对象</strong></p>
<table>
<thead>
<tr>
<th>对象名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>param</td>
<td>接收传递到本页面的参数</td>
</tr>
<tr>
<td>paramValues</td>
<td>接收传递到本页面的一组参数</td>
</tr>
<tr>
<td>header</td>
<td>取得一个头信息数据</td>
</tr>
<tr>
<td>headerValues</td>
<td>取出一组头信息数据</td>
</tr>
<tr>
<td>cookie</td>
<td>取出cookie中的数据</td>
</tr>
<tr>
<td>initParam</td>
<td>将上下文初始化参数名称映射到单个值</td>
</tr>
</tbody>
</table>
<h3 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h3><table>
<thead>
<tr>
<th>术语</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>算术</td>
<td>+、- 、*、/、div、%、mod、–</td>
</tr>
<tr>
<td>逻辑</td>
<td>and、&amp;&amp;、or、ll、!、not</td>
</tr>
<tr>
<td>关系</td>
<td>==、eq、!=、ne、lt、gt、&lt;=、le、&gt;=、ge</td>
</tr>
<tr>
<td>空</td>
<td>empty </td>
</tr>
<tr>
<td>三目（条件）</td>
<td>A ?B :C</td>
</tr>
</tbody>
</table>
<h3 id="理解EL表达式的查找属性的顺序"><a href="#理解EL表达式的查找属性的顺序" class="headerlink" title="理解EL表达式的查找属性的顺序"></a>理解EL表达式的查找属性的顺序</h3><p><strong>你可以通过如下进行属性查找：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;username&#125;</span><br></pre></td></tr></table></figure></p>
<p>因为没有指定哪一个范围的username，所以它会依序从Page -&gt; Request -&gt; Session -&gt; Application范围查找,没有找到返回null。</p>
<h3 id="EL-其他"><a href="#EL-其他" class="headerlink" title="EL 其他"></a>EL 其他</h3><ul>
<li><p>接受请求参数</p>
<ul>
<li><p>单个参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;param.red&#125;     等价于      &lt;%=request.getparameter(&quot;red&quot;)%&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>一组参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$&#123;paramValues.参数名称&#125;</span><br><span class="line">$&#123;paramValues.inst[0]&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>处理集合</p>
<ul>
<li>List   使用<code>${all[0]}</code></li>
<li>Map  使用<code>${all[&quot;key&quot;]}</code></li>
<li>Javabean 使用 <code>${all.名称}</code></li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/02/16/2013/Ajax/" itemprop="url">
                  Ajax
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-02-16T13:43:00+08:00" content="2013-02-16">
              2013-02-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Programming-Language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming Language</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Programming-Language/Javascript/" itemprop="url" rel="index">
                    <span itemprop="name">Javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/02/16/2013/Ajax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/02/16/2013/Ajax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="略略略"><a href="#略略略" class="headerlink" title="略略略"></a>略略略</h2><p>随便记录一下。 日后再补充。</p>
<h2 id="XMLHttpRequest-对象"><a href="#XMLHttpRequest-对象" class="headerlink" title="XMLHttpRequest 对象"></a>XMLHttpRequest 对象</h2><h3 id="XMLHttpRequest-对象属性"><a href="#XMLHttpRequest-对象属性" class="headerlink" title="XMLHttpRequest 对象属性"></a>XMLHttpRequest 对象属性</h3><table>
<thead>
<tr>
<th>属性名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>onreadystatechange</td>
<td>指定当readState状态改变时使用的操作，一般用于指定具体的回调函数</td>
</tr>
<tr>
<td>readyState</td>
<td>返回当前请求的状态，只读</td>
</tr>
<tr>
<td>responseBody</td>
<td>将回应信息正文以unsigned byte数组的形式返回，只读</td>
</tr>
<tr>
<td>responseStream</td>
<td>以Ado Stream对象的形式返回响应信息，只读</td>
</tr>
<tr>
<td>responseText</td>
<td>接收以文本返回的数据，只读</td>
</tr>
<tr>
<td>responseXML</td>
<td>接收以XML文档形式回应的数据，只读</td>
</tr>
<tr>
<td>status</td>
<td>返回当前请求的http状态码，只读</td>
</tr>
<tr>
<td>statusText</td>
<td>返回当前请求的响应行装填，只读</td>
</tr>
</tbody>
</table>
<p><strong>statusText 的五种取值状体</strong></p>
<table>
<thead>
<tr>
<th>状体码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>请求没有发出（在调用open()函数之前）</td>
</tr>
<tr>
<td>1</td>
<td>请求已经建立但还没有发出（在调用send()函数之前）</td>
</tr>
<tr>
<td>2</td>
<td>请求已经发出正在处理之中(这里通常可以从响应得到内容头部)</td>
</tr>
<tr>
<td>3</td>
<td>请求已经处理，正在接受服务器的信息，响应中通常有部分数据可用，但是服务器还有完成响应    </td>
</tr>
<tr>
<td>4</td>
<td>请求已完成，可以访问服务器响应并使用它</td>
</tr>
</tbody>
</table>
<h3 id="XMLHttpRequest-对象方法"><a href="#XMLHttpRequest-对象方法" class="headerlink" title="XMLHttpRequest 对象方法"></a>XMLHttpRequest 对象方法</h3><table>
<thead>
<tr>
<th>方法名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>abort()</td>
<td>取消当前所发出的请求</td>
</tr>
<tr>
<td>getAllRespnseHeaders()</td>
<td>取得所有的HTTP头信息</td>
</tr>
<tr>
<td>getResponseHeader()</td>
<td>取得一个指定的HTTP头信息</td>
</tr>
<tr>
<td>open()</td>
<td>创建一个HTTP请求，并指定请求模式，如GET请求或POST请求</td>
</tr>
<tr>
<td>send()</td>
<td>将创建的请求发送到服务器，并接受回应信息</td>
</tr>
<tr>
<td>setRequestHeader()</td>
<td>设置一个指定的请求的HTTP头信息</td>
</tr>
</tbody>
</table>
<h3 id="Ajax-实例"><a href="#Ajax-实例" class="headerlink" title="Ajax 实例"></a>Ajax 实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type = &quot;text/javascript&quot;&gt;</span><br><span class="line">var getAjax; // 欲初始化ajax函数</span><br><span class="line">function invidate() &#123;</span><br><span class="line">    if (window.XMLHttpRequest) &#123; // 判断浏览器类型， N 为IE</span><br><span class="line">		getAjax = new XMLHttpRequest();</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		getAjax = new ActiveXObject(&quot;Misrosoft.XMLHTTP&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function useGetAjax() &#123;</span><br><span class="line">	invidate(); // 初始化XMLHttpRequest对象</span><br><span class="line">	getAjax.open(&quot;POST&quot;, &quot;testAJax&quot;, true);</span><br><span class="line">    // 以POST方式发开请求连接</span><br><span class="line">	getAjax.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);</span><br><span class="line">	getAjax.onreadystatechange = function() &#123; // 回调函数</span><br><span class="line">		if (getAjax.readyState == 4) &#123;</span><br><span class="line">		    if (getAjax.status == 200) &#123;</span><br><span class="line">		        var text = getAjax.responseText; // 接收响应信息</span><br><span class="line">		        alert(text);</span><br><span class="line">		        document.getElementById(&quot;ajax&quot;).innerHTML = text;</span><br><span class="line"></span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    getAjax.send(&quot;username=1&quot;); // 发送请求体</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="cmp-cc" />
          <p class="site-author-name" itemprop="name">cmp-cc</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">37</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/cmp-cc" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">cmp-cc</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"cmp-cc"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();


  </script>

  
    
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  

 <script type="text/javascript">
  window.onload = function(){setTimeout(function(){/*无登陆账户*/if(!document.getElementsByClassName("ds-account-control")[0]){var cmp_cc_blog_user=localStorage.getItem("cmp-cc_blog_user");var author_name_value = cmp_cc_blog_user?'value="'+cmp_cc_blog_user+'"':'';var i = '<div class="ds-control-group" style="float:right;padding:6px;"><input type="text" '+author_name_value+'id="author_name_proxy" id="ds-dialog-name"  class="custom_input" style="color:#777;width=80%;font-size:13px;border:1px solid #ccc;height:25px;box-shadow: inset 0 1px 1px;padding: 2px 0px 0px 8px;" placeholder="昵称 or 登陆" required></div>';/*展开一个回复，再关闭。 多说没有参数配置啊~ 让人觉得不优雅*/var $last_ds_post_reply = $(".ds-post-reply:last");$last_ds_post_reply.click().click();$(".ds-post-options.ds-gradient-bg").append(i);$(".ds-post-button").click(function(){$(this).submit();$("#ds-wrapper").hide();var author_name = $("#author_name_proxy").val();$("#ds-wrapper #ds-dialog-name").val(author_name);$("#ds-wrapper form").submit();/*www.cmp-cc.github.com*/localStorage.setItem("cmp-cc_blog_user",author_name);$(".custom_input").val(author_name);});}},300);} 
 </script>





  
  
  

  

  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


</body>
</html>
